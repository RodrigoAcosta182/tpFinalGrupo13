{{> header}}
{{> navbar}}
<!-- !PAGE CONTENT! -->
<div class="w3-main w3-container">

    <!-- Header -->
    <div id="portfolio">


        <span class="w3-button w3-hide-large w3-xxlarge w3-hover-text-grey" onclick="w3_open()"><i class="fa fa-bars"></i></span>
        <div class="w3-container w3-center">
            <img src="/tpFinalGrupo13/public/images/logoLema.jpeg" style="width:20%;" class="w3-center w3-round">
            <!-- The form -->
            <div class="w3-section w3-bottombar w3-padding-16">
                <input class="w3-padding w3-light-grey w3-border-blue" style="width: 30%" type="text" id="myInput" onkeyup="myFunction()" placeholder="Buscar Cliente.." name="busqueda">
            </div>
            {{#_SESSION.esAdministrador}}
                <a href="/tpfinalgrupo13/Cliente/altaCliente" style="width: auto; margin-bottom: 20px" type="submit" class="w3-green w3-button">Agregar Cliente</a>
            {{/_SESSION.esAdministrador}}
            {{#_SESSION.esSupervisor}}
                <a href="/tpfinalgrupo13/Cliente/altaCliente" style="width: auto; margin-bottom: 20px" type="submit" class="w3-green w3-button">Agregar Cliente</a>
            {{/_SESSION.esSupervisor}}
            <br>
        </div>
    </div>
    <div style="overflow: auto;">
        {{#mensajeModificar}}
            <div class="w3-container w3-green w3-display-topmiddle w3-round" style="margin-top: 3em; width: 33%">
                <span onclick="this.parentElement.style.display='none'"
                      class="w3-button w3-display-topright">&times;</span>
                <p class="w3-text w3-center">{{mensajeModificar}}</p>
            </div>
        {{/mensajeModificar}}
        {{#mensajeError}}
            <div class="w3-container w3-red w3-display-topmiddle w3-round" style="margin-top: 3em; width: 33%">
                <span onclick="this.parentElement.style.display='none'"
                      class="w3-button w3-display-topright">&times;</span>
                <p class="w3-text w3-center">{{mensajeError}}</p>
            </div>
        {{/mensajeError}}
        {{#registroCorrecto}}
            <div class="w3-container w3-green w3-display-topmiddle w3-round" style="margin-top: 3em; width: 33%">
                <span onclick="this.parentElement.style.display='none'"
                      class="w3-button w3-display-topright">&times;</span>
                <p class="w3-text w3-center">{{registroCorrecto}}</p>
            </div>
        {{/registroCorrecto}}
        {{#dniExistente}}
            <div class="w3-container w3-red w3-display-topmiddle w3-round" style="margin-top: 3em; width: 33%">
                <span onclick="this.parentElement.style.display='none'"
                      class="w3-button w3-display-topright">&times;</span>
                <p class="w3-text w3-center">{{dniExistente}}</p>
            </div>
        {{/dniExistente}}
        {{#registroIncorrecto}}
            <div class="w3-container w3-red w3-display-topmiddle w3-round" style="margin-top: 3em; width: 33%">
                <span onclick="this.parentElement.style.display='none'"
                      class="w3-button w3-display-topright">&times;</span>
                <p class="w3-text w3-center">{{registroIncorrecto}}</p>
            </div>
        {{/registroIncorrecto}}
        <table class="w3-table">
            <tr class="w3-black">
                <th>Codigo</th>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>DNI</th>
                <th>Domicilio</th>
                <th>Activo</th>
                <th>Acciones</th>
            </tr>

            {{#clientes}}
                <tr class="w3-border-bottom w3-light-grey">
                    <td>{{Id}}</td>
                    <td>{{Nombre}}</td>
                    <td>{{Apellido}}</td>
                    <td>{{Dni}}</td>
                    <td>{{Domicilio}}</td>
                    <td>{{Activo}}</td>
                    <td>
                        <div>
                            {{#_SESSION.esAdministrador}}
                            <form action="cliente/modificarCliente" method="post">
                                <button class='w3-button w3-blue' style="width: 100%;" name="idCliente" value="{{Id}}">Modificar</button>
                            </form>
                            {{/_SESSION.esAdministrador}}
                            {{#_SESSION.esSupervisor}}
                                <form action="cliente/modificarCliente" method="post">
                                    <button class='w3-button w3-blue' style="width: 100%;" name="idCliente" value="{{Id}}">Modificar</button>
                                </form>
                            {{/_SESSION.esSupervisor}}
                        </div>
                    </td>
                </tr>
            {{/clientes}}
        </table>
    </div>
    <br>
    <!-- End page content -->
</div>
{{> footer}}
